
![[Gemini_Generated_Image_uivpgquivpgquivp.png]]


- **SNAT** translates the **Source IP** for outbound traffic, using the ==**Outgoing Interface IP**== or ==**IP Pool**==.
    
- **DNAT** handles inbound translation by translating the public **Destination IP** to a private address via a ==**Virtual IP (VIP)**== object.







# 1Ô∏è‚É£ Firewall Policy NAT

This is the most common and simplest method, where NAT settings are applied directly within the security policy that permits the traffic flow.

- **SNAT and DNAT** must be configured for each individual firewall policy.
    
- **SNAT** uses the **outgoing interface IP address** (the most common setting) or a configured **IP Pool** for translation.

- **DNAT** uses the configured **Virtual IP (VIP)** address as the final destination address for incoming traffic.




![[Pasted image 20251031223521.png]]

|**Option**|**Outgoing Interface**|**IP Pool**|
|---|---|---|
|**Description**|Translates all internal IPs to the **single IP** of the firewall's exit port.|Uses a **defined range of external IPs**.|
|**üß≠ Purpose**|Simplest for single-IP internet access.|Used when **multiple public IPs** or **One to One NAT** is required.|

### 1- Outgoing Interface:

we will use the IP address of the outgoing interface. This uses **PAT** (Port Address Translation) and overloads using dynamic ports.
### 2-IP Pool

![[Pasted image 20251031234004.png]]
##### 1. Overload
![[Pasted image 20251031231300.png]]
- **Concept:** Uses **PAT** to let many private IPs share **one or more** public IPs.

- **Example Action:** `10.0.0.10` and `10.0.0.11` both translate to **203.0.113.5** using different ports.
    

##### 2. One to One

![[Pasted image 20251031233538.png]]

- **Concept:** Maps one **private IP** to one **dedicated public IP**.
    
- **Example Action:** Private IP 10.0.0.20 is _always_ translated to public IP **203.0.113.6**.
    

##### 3. Fixed Port Range
![[Pasted image 20251031233432.png]]

- **Concept:** Uses PAT but restricts traffic to a **predefined, fixed range of source ports**.
    
- **Example Action:** Traffic uses public IP, but the source port is guaranteed to be within **50000-50999**.
    

##### 4. Port Block Allocation
![[Pasted image 20251031233645.png]]

- **Concept:** Reserves a **fixed block of ports** on the public IP for each private host.
    
- **Example Action:** Host 1 is reserved ports **3000-3127** on the public IP.







### 3-Virtual IP (VIP)

![[Pasted image 20251101001807.png]]

The VIP is the public address that the outside world connects to. The FortiGate uses this object to automatically **translate** that public address into the internal, private IP of your actual server.

- **Job:** Performs **DNAT** (Destination Network Address Translation).
    
- **Translation:** Public VIP $\rightarrow$ Private Server IP.
    
![[Pasted image 20251101002201.png]]
- **Example:** A user connects to the VIP **203.0.113.10**, and the FortiGate forwards the traffic to the internal server at **10.0.0.50**.

# 2Ô∏è‚É£ Central NAT

![[Pasted image 20251031235327.png]]
This method separates the NAT rules from the security policy, offering greater flexibility and centralized control, especially useful in complex environments or those utilizing Virtual Domains (VDOMs).

- **SNAT and DNAT** configurations are done **per virtual domain**.
    
- It applies to multiple firewall policies, based on **SNAT and DNAT rules**.
    
- **SNAT rule** is configured from the **Central SNAT policy** section.
    
- **DNAT** is configured from **DNAT and VIPs** section.
-

**üõë IMPORTANT NOTE:** You **cannot** use **Policy NAT** and **Central NAT** at the same time on a FortiGate. You must choose one mode for the entire Virtual Domain (VDOM) or firewall instance.

# - [ ] Commands


- The command ==**`get sys session list`**== used for Displays the current contents of the FortiGate's **session table** (or connection tracking table)

- The command sequence ==**`config system settings`**== then ==**`set central-nat enable`**== is used for **switching the FortiGate from Policy-based NAT to Central NAT mode**.
